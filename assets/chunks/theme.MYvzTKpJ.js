import{d as v,u as C,o as n,c as r,a as e,F as _,r as k,b as f,n as S,e as $,t as c,f as w,g as B,h as E,i as P,j as m,k as I,w as U,l as W,m as z,p as L,q as V,s as O,v as Y}from"./framework.YYrFdE-Y.js";const Z={class:"container"},G={class:"menu"},J=["href"],K=v({__name:"Header",setup(h){const t=C().site.value.base,s=[{icon:"fa-home",name:"首页",url:""},{icon:"fa-tag",name:"标签",url:"tags/"},{icon:"fa-leaf",name:"关于",url:"readme.html"}];return(a,l)=>(n(),r("header",null,[l[0]||(l[0]=e("span",{class:"brand"},null,-1)),e("span",Z,[e("span",G,[e("ul",null,[(n(),r(_,null,k(s,o=>e("li",null,[e("a",{href:f(t)+o.url},[e("span",null,[e("i",{class:S(["fa",o.icon])},null,2),$(" "+c(o.name),1)])],8,J)])),64))])])]),l[1]||(l[1]=e("span",{class:"other"},[e("a",{class:"search"},[e("i",{class:"fa fa-search"})])],-1))]))}}),Q=["data-text"],X=v({__name:"GlitchText",props:{text:{}},setup(h){return(t,s)=>(n(),r("div",{class:"glitch","data-text":t.text},c(t.text),9,Q))}}),ee={class:"info"},te={class:"box"},se={class:"text"},ae={class:"contact"},ne=["href"],le=v({__name:"Banner",setup(h){const t=C().theme.value,s=t.hello||"Hello, sakura",a=t.motto||"You got to put the past behind you before you can move on.",l=t.social||[],o=t.cover;return(x,u)=>(n(),r("div",{class:"banner",style:B(`background-image: url(${f(o)})`)},[u[2]||(u[2]=e("div",{class:"wave1"},null,-1)),u[3]||(u[3]=e("div",{class:"wave2"},null,-1)),e("div",ee,[w(X,{text:f(s)},null,8,["text"]),e("span",te,[e("p",se,[u[0]||(u[0]=e("i",{class:"fa fa-quote-left"},null,-1)),$(" "+c(f(a))+" ",1),u[1]||(u[1]=e("i",{class:"fa fa-quote-right"},null,-1))]),e("div",ae,[(n(!0),r(_,null,k(f(l),y=>(n(),r("a",{href:y.url,"aria-label":"icon",target:"_blank"},[e("i",{class:S(["fab",y.icon])},null,2)],8,ne))),256))])])])],4))}}),g=JSON.parse(`[{"title":"测试文档","href":"posts/doc2.html","create":1733386604358,"update":1733386604358,"tags":["测试","算法","测试1","测试2","测试3","测试4","测试5","测试6","测试7"],"cover":"/vitepress-theme-sakura/60651947_p0.jpg","excerpt":"","data":{"title":"测试文档","tags":["测试","算法","测试1","测试2","测试3","测试4","测试5","测试6","测试7"],"cover":"/vitepress-theme-sakura/60651947_p0.jpg"}},{"title":"本页面的 github 仓库链接","href":"posts/comming-soon.html","create":1644537600000,"update":1733386604358,"excerpt":"<p><a href=\\"https://github.com/flaribbit/vitepress-theme-sakura\\" target=\\"_blank\\" rel=\\"noreferrer\\">点击这里</a></p>\\n<p>还在摸鱼中，当前预览不代表最终效果</p>\\n","data":{"title":"本页面的 github 仓库链接","date":"2022-02-11T00:00:00.000Z"}},{"title":"What is VitePress?","href":"posts/doc1.html","create":1640995200000,"update":1733386604358,"tags":["vue","vue3","vitepress"],"excerpt":"<p>VitePress is <a href=\\"https://vuepress.vuejs.org/\\" target=\\"_blank\\" rel=\\"noreferrer\\">VuePress</a>' little brother, built on top of <a href=\\"https://github.com/vitejs/vite\\" target=\\"_blank\\" rel=\\"noreferrer\\">Vite</a>.</p>\\n","data":{"title":"What is VitePress?","date":"2022-01-01T00:00:00.000Z","tags":["vue","vue3","vitepress"]}}]`);function oe(h,t){let s,a=!1;return()=>{s&&clearTimeout(s),a?s=setTimeout(h,t):(h(),a=!0,setTimeout(()=>{a=!1},t))}}const re={id:"waline"},ie=v({__name:"Waline",setup(h,{expose:t}){let s=null;E(()=>{const o=C().site.value.themeConfig.waline;if(!o){console.error("未配置waline服务端地址");return}a(o)});const a=o=>{s=Waline({el:"#waline",serverURL:o})};return t({update:()=>{s==null||s.update()}}),(o,x)=>(n(),r("div",re))}}),ce={class:"toc"},ue=["href"],de=v({__name:"TOC",props:{data:{default:()=>[]},active:{default:0}},setup(h){return(t,s)=>(n(),r("div",ce,[e("ol",null,[(n(!0),r(_,null,k(t.data,(a,l)=>(n(),r("li",{class:S(["h"+a.level,{active:t.active===l}])},[e("a",{href:"#"+a.slug},c(a.title),9,ue)],2))),256))])]))}}),pe={class:"titlebox"},he={class:"title"},fe={class:"info"},_e={class:"article"},ve={class:"content nav"},me=["href"],ge=["href"],$e=v({__name:"Article",setup(h){const t=C(),s=t.site.value.base,a=P(),l=m(""),o=t.theme.value.name,x=m(""),u=m(0),y=m(""),D=m(0),q=m(),d=I([{href:"",text:"",show:!0},{href:"",text:"",show:!0}]),T=m(0),M=()=>{var p;if(T.value=g.findIndex(b=>b.href==a.path.replace(s,"")),T.value==-1)return;l.value=t.page.value.title,y.value=`background-image: url(${t.page.value.frontmatter.cover||t.theme.value.cover})`,x.value=new Date(t.page.value.lastUpdated||g[T.value].create).toLocaleDateString("sv-SE"),(p=q.value)==null||p.update();let i=T.value;i-1>=0?(d[0].href=s+g[i-1].href,d[0].text=g[i-1].title,d[0].show=!0):d[0].show=!1,i+1<g.length?(d[1].href=s+g[i+1].href,d[1].text=g[i+1].title,d[1].show=!0):d[1].show=!1,typeof window<"u"&&O().then(()=>{F()})};M(),U(a,M);const N=()=>{const i=t.page.value.headers;if(i.length!=0){for(let p=0;p<i.length;p++){const b=document.getElementById(i[p].slug);if((b==null?void 0:b.getBoundingClientRect()).top>200){let j=" ";p>0&&(D.value=p-1,j="#"+i[p-1].slug),history.replaceState(null,document.title,j);return}}D.value=i.length-1,history.replaceState(null,document.title,"#"+i[i.length-1].slug)}},R=oe(N,300),F=()=>{if(typeof renderMathInElement>"u")return;const i=document.querySelector(".article .content");i&&renderMathInElement(i,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}]})};return E(()=>{N(),window.addEventListener("scroll",R)}),W(()=>{window.removeEventListener("scroll",R)}),(i,p)=>{const b=z("Content");return n(),r(_,null,[T.value>=0?(n(),r("div",{key:0,class:"abanner",style:B(y.value)},[e("div",pe,[e("h1",he,c(l.value),1),e("div",fe,c(f(o))+" · 更新于 "+c(x.value)+" · "+c(u.value)+" 次阅读",1)])],4)):L("",!0),e("div",_e,[w(b,{class:"content"}),e("div",ve,[e("span",null,[d[0].show?(n(),r("a",{key:0,href:d[0].href},[p[0]||(p[0]=e("i",{class:"fa fa-angle-left"},null,-1)),$(" "+c(d[0].text),1)],8,me)):L("",!0)]),e("span",null,[d[1].show?(n(),r("a",{key:0,href:d[1].href},[$(c(d[1].text)+" ",1),p[1]||(p[1]=e("i",{class:"fa fa-angle-right"},null,-1))],8,ge)):L("",!0)])]),T.value!=-1?(n(),V(ie,{key:0,ref_key:"waline",ref:q},null,512)):L("",!0),w(de,{data:f(t).page.value.headers,active:D.value},null,8,["data","active"])])],64)}}}),we={class:"bloglist"},be={class:"card"},ke={class:"info"},xe={class:"date"},ye=["href"],Te={class:"title"},Ce=["innerHTML"],Le={key:0,class:"tags"},Se=["onClick"],Ee={key:1,class:"tags"},De=["href"],A=v({__name:"BlogList",props:{posts:{},click:{type:Function,default:null}},setup(h){const t=C().site.value.base;return(s,a)=>(n(),r("div",we,[a[4]||(a[4]=e("div",{class:"section"},[e("i",{class:"fa-solid fa-book"}),$(" 文章列表 "),e("hr")],-1)),(n(!0),r(_,null,k(s.posts,l=>(n(),r("div",be,[a[3]||(a[3]=e("div",{class:"image"},null,-1)),e("div",ke,[e("div",xe,[a[0]||(a[0]=e("i",{class:"fa fa-clock"},null,-1)),$(" 发布于 "+c(new Date(l.create).toLocaleDateString("sv-SE")),1)]),e("a",{href:f(t)+l.href},[e("div",Te,c(l.title),1)],8,ye),e("div",{class:"content",innerHTML:l.excerpt},null,8,Ce),s.click?(n(),r("div",Le,[(n(!0),r(_,null,k(l.tags,o=>(n(),r("a",{href:"#",onClick:x=>s.click(o)},[a[1]||(a[1]=e("i",{class:"fa fa-tag"},null,-1)),$(" "+c(o),1)],8,Se))),256))])):(n(),r("div",Ee,[(n(!0),r(_,null,k(l.tags,o=>(n(),r("a",{href:`${f(t)}tags/?q=${o}`},[a[2]||(a[2]=e("i",{class:"fa fa-tag"},null,-1)),$(" "+c(o),1)],8,De))),256))]))])]))),256))]))}}),Ve={class:"tag"},Be={class:"article"},qe=["onClick"],Me=v({__name:"Tag",setup(h){const t=m(null),s={},a=l=>{t.value=l,history.replaceState(null,document.title,"?q="+l)};for(const l of g)if(l.tags)for(const o of l.tags)s[o]||(s[o]=[]),s[o].push(l);return E(()=>{t.value=new URLSearchParams(location.search).get("q")}),(l,o)=>(n(),r("div",Ve,[e("div",Be,[(n(),r(_,null,k(s,(x,u)=>e("a",{class:S(["item",{active:t.value===u}]),href:"#",onClick:y=>a(u)},[e("span",null,c(u),1)],10,qe)),64))]),w(A,{posts:t.value?s[t.value]:[],click:a},null,8,["posts"])]))}}),H="top: -900px",Ne=v({__name:"ToTop",setup(h){const t=m(H),s=()=>{window.scrollY>200?window.innerWidth>720?t.value=`top: ${Math.min(window.innerHeight-968,0)}px`:t.value="top: -640px":t.value=H},a=()=>{window.scrollTo({top:0,behavior:"smooth"})};return E(()=>{window.addEventListener("scroll",s),s()}),W(()=>{window.removeEventListener("scroll",s)}),(l,o)=>(n(),r("a",{href:"#",class:"totop",onClick:a,style:B(t.value),"aria-label":"to-top"},null,4))}}),Re=v({__name:"Layout",setup(h){const t=C().site.value.base,s=P(),a=Y(()=>s.path.replace(t,"").replace("index.html",""));return(l,o)=>(n(),r(_,null,[w(K),o[0]||(o[0]=e("aside",null,null,-1)),e("main",null,[w(Ne),a.value===""?(n(),r(_,{key:0},[w(le),w(A,{posts:f(g)},null,8,["posts"])],64)):a.value==="tags/"?(n(),V(Me,{key:1})):(n(),V($e,{key:2}))])],64))}}),Pe={Layout:Re,NotFound:()=>"custom 404",enhanceApp({app:h,router:t,siteData:s}){}};export{Pe as R};
